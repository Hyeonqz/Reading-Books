# 운영체제 
운영체제는 사용자를 위한 프로그램이 아닌, 사용자가 실행하는 프로그램을 위한 프로그램이다 <br>
즉 사용자가 실행하는 응용 프로그램이 올바르게 실행되도록 돕고 필요한 자원을 할당해주는 프로그램이다 <br>

### 운영체제의 심장, 커널
운영체제는 현존하는 프로그램 중 규모가 가장 큰 프로그램 중 하나이다 <br>
운영체제가 응용 프로그램에 제공하는 서비스 종류는 다양하지만, 그중에서도 핵심 서비스는 <br>
자원에 접근,조작 기능, 프로그램 실행 등 이 있다 <br>

이러한 운영체제에서 핵심 서비스를 담당하는 부분을 **커널** 이라고 한다 <br>

운영체제가 있는 기기에는 모두 커널이 존재한다<br>
커널은 마치 사람의 심장, 자동차의 엔진과 같은 역할을 한다 <br>
![img.png](img/img.png)<br>

운영체제가 제공하는 서비스 중 커널에 포함되지 않는 서비스도 있다 <br>
대표적으로 사용자 인터페이스이다 (커널 서비스가 아닌 운영체제가 자체적으로 제공한다)<br>

운영체제가 제공하는 UI 는 GUI, CLI 가 있다 <br>

### 이중 모드와 시스템 호출
os 는 사용자가 실행하는 응용 프로그램이 하드웨어 자원에 직접 접근하는 것을 방지하여 자원을 보호한다 <br>
그래서 os 는 모든 응용프로그램 자원에 접근하려고 할 때 os 를 통해서만 접근할 수 있게 한다 (문지기와 같은 역할)<br>

이러한 문지기 역할을 이중 모드 로 구현이 된다 <br>

CPU 가 명령어를 실행하는 모드를 사용자 모드, 커널 모드 2가지로 구분을 한다 <br>
- 사용자 모드: 운영체제 서비스를 제공받을 수 없다.
  - 즉 커널 영역의 코드를 실행할 수 없는 모드 이다.
  - 일반적인 응용 프로그램은 기본적으로 사용자 모드로 실행이 된다

- 커널모드: 운영체제 서비스를 제공받을 수 있다.
  - 자원에 접근하고 모든 명령어를 실행할 수 있다.
  - os 는 커널모드로 실행되기 때문에 자원에 접근할 수 있다.
![img_1.png](img/img_1.png)<br>

사용자 모드로 실행되는 프로그램이 자원에 접근하는 운영체제 서비스를 제공받으려면 os 에 요청을 보내 커널모드로 전환해야 한다 <br>
이 요청을 **'시스템 호출(시스템 콜)'** 이라고 한다.

시스템 콜 이 실행되면 CPU 는 지금까지 작업을 백업하고, 커널 영역 내에 시스템 콜을 수행하는 코드를 실행한 다 <br>
그리고 기존에 실행하던 응용프로그램으로 복귀하여 실행을 한다 <br>















